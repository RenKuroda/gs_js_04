<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>企業情報</title>
    <link rel="stylesheet" href="CSS/company.css">
    <script src="jquery-2.1.3.min.js"></script>
</head>
<body>
    <aside>
		<a href="/home/" class="imghover1"><img class="img1" src="IMG/name1.jpg" alt=""></a>
    	<nav>
			<ul class="ul1">
				
				<li class="li1"><a href="file:///Users/kurodaren/Desktop/dev20_js_04/index.html" class="imghover">HOME</a></li>
				<li class="li1"><a href="file:///Users/kurodaren/Desktop/dev20_js_04/newlist.html" class="imghover">新規作成</a></li>
				<li class="li1"><a href="file:///Users/kurodaren/Desktop/dev20_js_04/company.html" class="imghover">企業情報</a></li>
				<li class="li1"><a href="/contact/" class="imghover">問い合わせ</a></li>
			</ul>
		</nav>
		<div class="sidefooter">
			sidefooter
		</div>
		
	</aside>
    <main>
        <header>
            <div class="header">
            <h1>企業情報入力画面</h1>
        </div>
        </header>
        <div class="ipt1">
            <div class="ipt2">企業名　 <input type="name" id="name" class="inputName"><br>
            </div>
            <div class="ipt2">担当者名 <input type="person" id="person" class="inputName"><br>
            </div>
            <div class="ipt2">業種名　 <input type="industry" id="industry" class="inputName"><br>
            </div>    
            <div class="ipt2">備考　　 <textarea class="textarea"name="" id="textarea" cols="30" rows="10"></textarea><br>
            </div>        
                <ul class="ul2">
                <li id="save">登録</li>
                <li id="clear">削除</li>
            </ul>    
        <table class="list" id="list"></table>
        </div>
    </main>
<script>
 
$("#save").on('click',function(){
    const name=$("#name").val();
    const person=$("#person").val();
    const industry=$("#industry").val();
    const textarea=$("#textarea").val();

    console.log(name);
    console.log(person);
    console.log(industry);
    console.log(textarea);
    localStorage.setItem(name,person,industry,textarea);
    alert("登録しました")
    $("body").css("background","#8dc3f5");

// ブラウザのHTMLにデータを表示したい
// テンプレリテラル es6で検索
    const html =`
    <tr>
        <th>企業名</th>
        <th>${name}</th>
    </tr>
    <tr>
        <td>担当者名</td>
        <td>${person}</td>
    </tr>
    <tr>
        <td>業種名</td>
        <td>${industry}</td>
    </tr>
    <tr>
        <td>備考</td>
        <td>${textarea}</td>
    </tr>
    `
    $("#list").append(html);

// 全て終わったらからになる
    $("#name").val("");
    $("#person").val("");
    $("#industry").val("");
    $("#textarea").val("");

//2.clear クリックイベント
    $("#clear").on('click', function(){
        localStorage.clear();
        $("#list").empty();  
    })


//3.ページ読み込み：保存データ取得表示
for(let i = 0; i < localStorage.length; i++){
    const name =localStorage.name(i);
    const person = localStorage.person(key);
    const industry = localStorage.person(industry);
    const textarea = localStorage.person(textarea);
       const html =`
       <tr>
        <th>企業名</th>
        <th>${name}</th>
    </tr>
    <tr>
        <td>担当者名</td>
        <td>${person}</td>
    </tr>
    <tr>
        <td>業種名</td>
        <td>${industry}</td>
    </tr>
    <tr>
        <td>備考</td>
        <td>${textarea}</td>
    </tr>
    `
    $("#list1").append(html);
}
});
</script>
</body>
</html>